# CSSTS - CSS-in-TypeScript åŸå­ç±»ç³»ç»Ÿ

## ä»€ä¹ˆæ˜¯ CSSTSï¼Ÿ

CSSTS æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶ CSS åŸå­ç±»ç®¡ç†ç³»ç»Ÿï¼Œæä¾›ç±»å‹å®‰å…¨çš„ CSS-in-TypeScript å¼€å‘ä½“éªŒã€‚

## æ ¸å¿ƒæ¦‚å¿µ

### 1. åŸå­ç±»å˜é‡
åŸå­ç±»æ˜¯é¢„å®šä¹‰çš„ CSS ç±»ï¼Œæ¯ä¸ªå˜é‡å¯¹åº”ä¸€ä¸ª CSS å±æ€§å€¼ç»„åˆã€‚

### 2. å‘½åè§„èŒƒ
åŸå­ç±»å‘½åéµå¾ªï¼š`å±æ€§å` + `å€¼`ï¼ˆé©¼å³°å¼ï¼‰

## âœ… æ”¯æŒçš„è¯­æ³•

### 1. å…³é”®å­—å€¼
```typescript
const flex = displayFlex              // display: flex
const block = displayBlock            // display: block
const center = textAlignCenter        // text-align: center
const bold = fontWeightBold           // font-weight: bold
```

### 2. æ•°å€¼ + å•ä½
```typescript
// åƒç´ å€¼
const p16 = padding16px               // padding: 16px
const m20 = margin20px                // margin: 20px

// ç™¾åˆ†æ¯”ï¼ˆä½¿ç”¨ pctï¼‰
const w50 = width50pct                // width: 50%
const h100 = height100pct             // height: 100%

// å°æ•°ï¼ˆä½¿ç”¨ p ä»£æ›¿ .ï¼‰
const o50 = opacity0p5                // opacity: 0.5
const lh1p5 = lineHeight1p5           // line-height: 1.5

// è´Ÿæ•°ï¼ˆä½¿ç”¨ N å‰ç¼€ï¼‰
const mN10 = marginN10px              // margin: -10px
```

### 3. é¢„å®šä¹‰é¢œè‰²
```typescript
const red = colorRed                  // color: red
const blue = backgroundColorBlue      // background-color: blue
const dodger = borderColorDodgerblue  // border-color: dodgerblue
```

### 4. css { } å—è¯­æ³•
ç”¨äº**ç»„åˆå¤šä¸ªåŸå­ç±»**ï¼š

```typescript
// âš ï¸ é‡è¦ï¼šcss { } å—å†…çš„åŸå­ç±»å¿…é¡»ç”¨é€—å·åˆ†éš”ï¼

// âœ… æ­£ç¡®ï¼šé€—å·åˆ†éš”
const button = css { displayFlex, padding16px, backgroundColorBlue }

// âœ… æ­£ç¡®ï¼šå¤šè¡Œé€—å·åˆ†éš”
const card = css {
  displayFlex,
  padding16px,
  borderRadius8px,
  backgroundColorWhite
}

// âŒ é”™è¯¯ï¼šæ¢è¡Œä¸å¸¦é€—å·
const wrong = css {
  displayFlex
  padding16px    // âŒ è§£æå¤±è´¥ï¼
}
```

**æ³¨æ„**ï¼šcss { } å—**åªæ”¯æŒåŸå­ç±»**ï¼Œä¸æ”¯æŒ `property: 'value'` è¯­æ³•ã€‚

### 5. ä¼ªç±»æ ·å¼ï¼ˆ$$ åˆ†éš”ç¬¦ï¼‰
```typescript
// ä½¿ç”¨ $$ åˆ†éš”ç¬¦å®šä¹‰ä¼ªç±»æ ·å¼
const button$$hover = css { backgroundColorBlue }
const link$$active = css { colorRed }
const card$$hover$$active = css { displayFlex, padding16px }
```

### 6. åˆå¹¶æ ·å¼ï¼ˆåœ¨ css {} ä¸­å¼•ç”¨å˜é‡ï¼‰

**é‡è¦**ï¼šå…ˆå®šä¹‰è¢«å¼•ç”¨çš„æ ·å¼ï¼Œå†å®šä¹‰å¼•ç”¨å®ƒçš„æ ·å¼ï¼

```typescript
// âœ… æ­£ç¡®ï¼šå…ˆå®šä¹‰ä¼ªç±»æ ·å¼
const button$$hover = css { backgroundColorBlue }
const button$$active = css { backgroundColorNavy }

// å†å®šä¹‰åˆå¹¶æ ·å¼ï¼ˆå¼•ç”¨å·²å®šä¹‰çš„å˜é‡ï¼‰
const buttonStyle = css {
  padding16px,
  borderRadius8px,
  button$$hover,
  button$$active
}

// âŒ é”™è¯¯ï¼šå¼•ç”¨æœªå®šä¹‰çš„å˜é‡ï¼ˆä¼šæŠ¥é”™ï¼‰
const wrongStyle = css { padding16px, notDefined$$hover }
const notDefined$$hover = css { colorRed }  // å®šä¹‰åœ¨åé¢ï¼ŒæŠ¥é”™ï¼
```

## âŒ ä¸æ”¯æŒçš„è¯­æ³•

### 1. âŒ åŸå­ç±»ä¸­ä½¿ç”¨ä»»æ„å€¼
```typescript
// âŒ é”™è¯¯ï¼šåŸå­ç±»ä¸æ”¯æŒä»»æ„é¢œè‰²å€¼
const bg1 = backgroundColor242424
const bg2 = backgroundColor$242424
const bg3 = backgroundColorRgb255s0s0

// âœ… æ­£ç¡®ï¼šåªä½¿ç”¨é¢„å®šä¹‰çš„é¢œè‰²åŸå­ç±»
const bg = css { backgroundColorBlue }
const text = css { colorRed }
```

### 2. âŒ css { } å—ä¸­ä½¿ç”¨ property: 'value' è¯­æ³•
```typescript
// âŒ é”™è¯¯ï¼šä¸æ”¯æŒå†’å·è¯­æ³•
const wrong = css {
  backgroundColor: '#242424'  // âŒ è§£æå¤±è´¥ï¼
}

// âœ… æ­£ç¡®ï¼šåªä½¿ç”¨é¢„å®šä¹‰åŸå­ç±»
const correct = css { backgroundColorBlue }
```

### 2. âŒ $ ç¬¦å·ä½œä¸ºå€¼åˆ†éš”ç¬¦
```typescript
// âŒ é”™è¯¯ï¼š$ ä¸æ˜¯å€¼åˆ†éš”ç¬¦
const p = padding$16$px

// âœ… æ­£ç¡®ï¼šç›´æ¥é©¼å³°æ‹¼æ¥
const p = padding16px
```

### 3. âŒ åœ¨åŸå­ç±»å˜é‡åä¸­ä½¿ç”¨ - æˆ–å…¶ä»–ç‰¹æ®Šå­—ç¬¦
```typescript
// âŒ é”™è¯¯ï¼šJavaScript å˜é‡åä¸æ”¯æŒ
const my-style = displayFlex

// âœ… æ­£ç¡®ï¼šä½¿ç”¨é©¼å³°
const myStyle = displayFlex
```

### 4. âŒ ç›´æ¥åœ¨ JSX ä¸­ä½¿ç”¨åŸå­ç±»å˜é‡
```typescript
// âŒ é”™è¯¯ï¼šåŸå­ç±»å˜é‡ä¸æ˜¯å­—ç¬¦ä¸²
<div className={displayFlex}></div>

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ css { } åŒ…è£…
<div className={css { displayFlex }}></div>
```

## ğŸ“ å®Œæ•´ç¤ºä¾‹

```typescript
// 1. åŸºç¡€åŸå­ç±»ä½¿ç”¨ï¼ˆé€—å·åˆ†éš”ï¼‰
const container = css { displayFlex, padding16px, margin20px }

// 2. å¤šè¡Œå†™æ³•ï¼ˆå¿…é¡»æœ‰é€—å·ï¼‰
const card = css {
  displayFlex,
  padding16px,
  borderRadius8px,
  backgroundColorWhite
}

// 3. å…ˆå®šä¹‰ä¼ªç±»æ ·å¼
const button$$hover = css { backgroundColorBlue }
const button$$active = css { backgroundColorNavy }

// 4. å†å®šä¹‰åˆå¹¶æ ·å¼ï¼ˆå¼•ç”¨å·²å®šä¹‰çš„ä¼ªç±»ï¼‰
const buttonStyle = css {
  padding16px,
  borderRadius8px,
  button$$hover,
  button$$active
}

// 5. Vue ä¸­ä½¿ç”¨ï¼ˆç›´æ¥ç”¨å˜é‡ï¼‰
<template>
  <div :class="container">
    <button :class="buttonStyle">Click me</button>
  </div>
</template>
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. ç”¨é€—å·åˆ†éš”åŸå­ç±»
```typescript
// âœ… æ­£ç¡®ï¼šé€—å·åˆ†éš”
const style = css { displayFlex, padding16px }

// âŒ é”™è¯¯ï¼šç¼ºå°‘é€—å·
const style = css { displayFlex padding16px }  // è§£æå¤±è´¥
```

### 2. æ ·å¼ç»„åˆæ¨èæ–¹å¼
```typescript
// âœ… æ¨èï¼šå…ˆå®šä¹‰åŸºç¡€æ ·å¼ï¼Œå†åœ¨ css {} ä¸­å¼•ç”¨åˆå¹¶
const base = css { displayFlex, padding16px }
const colored = css { backgroundColorBlue }
const final = css { base, colored }
```

## ğŸ”§ é…ç½®

å¯ä»¥é€šè¿‡ Vite æ’ä»¶é…ç½®æ‰©å±•ï¼š

```typescript
// vite.config.ts
import cssTsPlugin from 'vite-plugin-cssts'

export default defineConfig({
  plugins: [
    cssTsPlugin({
      pseudoUtils: {
        hover: { filter: 'brightness(1.15)' },
        active: { filter: 'brightness(0.85)' }
      }
    })
  ]
})
```

## ğŸš« å¸¸è§é”™è¯¯

### é”™è¯¯ 1ï¼šä½¿ç”¨ä¸å­˜åœ¨çš„åŸå­ç±»
```typescript
// âŒ é”™è¯¯
const bg = backgroundColor242424  // ä¸å­˜åœ¨è¿™ä¸ªåŸå­ç±»

// âœ… æ­£ç¡®ï¼šä½¿ç”¨é¢„å®šä¹‰çš„é¢œè‰²
const bg = css { backgroundColorBlue }
```

### é”™è¯¯ 2ï¼šåœ¨åŸå­ç±»åä¸­ä½¿ç”¨åˆ†éš”ç¬¦
```typescript
// âŒ é”™è¯¯
const p = padding$16px

// âœ… æ­£ç¡®  
const p = padding16px
```

### é”™è¯¯ 3ï¼šç›´æ¥ä½¿ç”¨åŸå­ç±»å˜é‡ä½œä¸º className
```typescript
// âŒ é”™è¯¯
<div className={displayFlex}></div>

// âœ… æ­£ç¡®
<div :class="css { displayFlex }"></div>
```

## ğŸ“š æ›´å¤šä¿¡æ¯

- [å®Œæ•´æ–‡æ¡£](./README.md)
- [æ¶æ„è¯´æ˜](../ARCHITECTURE.md)
- [ç¤ºä¾‹é¡¹ç›®](./cssts-ui-test/)

---

**é‡è¦æç¤º**ï¼šCSSTS çš„åŸå­ç±»æ˜¯**ç¼–è¯‘æ—¶ç”Ÿæˆ**çš„ï¼ŒåªåŒ…å«é¢„å®šä¹‰çš„å€¼ã€‚ä»»æ„è‡ªå®šä¹‰å€¼å¿…é¡»é€šè¿‡ `css { }` å—è¯­æ³•ä½¿ç”¨ã€‚
