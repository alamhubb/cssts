# CSSTS 编译器文档索引

## 📖 文档导航

### 快速开始
- **[快速参考](./QUICK_START.md)** - 常见配置场景和代码示例
  - 基础配置
  - 数值类型配置
  - 单位分类配置
  - 单位配置
  - 关键字和颜色配置
  - 伪类和伪元素配置
  - 复杂场景示例

### 详细指南
- **[配置系统](./CONFIG.md)** - 完整的配置指南
  - 配置架构
  - 配置层级详解
  - 配置优先级
  - 高级用法
  - 数值生成策略
  - 配置类型参考
  - 常见场景
  - 最佳实践

### 核心文档
- **[README](./README.md)** - 编译器概览
  - 核心职责
  - 模块结构
  - 核心 API
  - 类型定义生成
  - 伪类语法
  - 类名生成规则

---

## 🎯 按需求查找

### 我想...

#### 快速上手
→ 阅读 [快速参考](./QUICK_START.md) 的"基础配置"部分

#### 只生成常用的属性和单位
→ 阅读 [快速参考](./QUICK_START.md) 的"最小化配置"部分

#### 自定义单位的数值范围
→ 阅读 [快速参考](./QUICK_START.md) 的"单位配置"部分

#### 理解配置的优先级
→ 阅读 [配置系统](./CONFIG.md) 的"配置优先级"部分

#### 使用跨级别配置
→ 阅读 [配置系统](./CONFIG.md) 的"高级用法"部分

#### 了解所有配置选项
→ 阅读 [配置系统](./CONFIG.md) 的"配置层级详解"部分

#### 查看 API 文档
→ 阅读 [README](./README.md) 的"核心 API"部分

#### 生成类型定义文件
→ 阅读 [README](./README.md) 的"类型定义生成"部分

---

## 📚 文档结构

```
DOCS.md (本文件)
├── QUICK_START.md (快速参考 - 7.4 KB)
│   ├── 基础配置
│   ├── 数值类型配置
│   ├── 单位分类配置
│   ├── 单位配置
│   ├── 关键字和颜色配置
│   ├── 伪类和伪元素配置
│   ├── 复杂场景
│   ├── 配置优先级
│   └── 验证配置
│
├── CONFIG.md (完整指南 - 11.7 KB)
│   ├── 快速开始
│   ├── 配置架构
│   ├── 配置层级详解
│   │   ├── 属性配置
│   │   ├── 数值类型配置
│   │   ├── 单位分类配置
│   │   ├── 单位配置
│   │   ├── 关键字配置
│   │   ├── 颜色配置
│   │   └── 伪类/伪元素配置
│   ├── 配置优先级
│   ├── 高级用法
│   ├── 数值生成策略
│   ├── 配置类型参考
│   ├── 常见场景
│   ├── 最佳实践
│   └── 相关文件
│
└── README.md (编译器概览 - 5.3 KB)
    ├── 核心职责
    ├── 模块结构
    ├── 核心设计
    ├── 核心 API
    ├── 类型定义生成
    ├── 伪类语法
    └── 类名生成规则
```

---

## 🔑 关键概念

### 分层配置
配置系统采用分层结构，从上到下依次为：
1. **属性** (Properties) - 选择生成哪些 CSS 属性
2. **数值类型** (NumberTypes) - 选择支持哪些数值类型
3. **单位分类** (UnitCategories) - 选择支持哪些单位分类
4. **单位** (Units) - 选择支持哪些单位
5. **数值** (Values) - 根据配置生成具体数值

### 白名单 vs 黑名单
- **白名单** (`include*`) - 只生成指定的项
- **黑名单** (`exclude*`) - 排除指定的项
- **优先级** - 白名单优先，如果配置了白名单则忽略黑名单

### 跨级别配置
支持在配置中跳过中间层级，直接指定下一层的项：
```typescript
// 在 includeNumberTypes 中直接配置单位
{ length: { px: { step: 4 } } }  // 完整三层
{ length: { em: { step: 0.25 } } }  // 跨越 unitCategory 层级
```

### 混合数组格式
在同一个数组中混合字符串和对象：
```typescript
includeUnits: [
  'px',                              // 字符串：使用默认配置
  { em: { step: 0.25, max: 10 } }   // 对象：自定义配置
]
```

---

## 💡 最佳实践

1. **从系统默认开始** - 系统已经排除了 98% 用不到的项
2. **优先使用白名单** - 明确指定需要的项比排除不需要的更清晰
3. **分层配置** - 在不同层级精确控制，避免过度配置
4. **使用预设值** - 对于常用的数值范围，使用预设值而不是步长
5. **测试生成结果** - 运行生成器验证配置是否符合预期

---

## 🔗 相关资源

### 源代码
- `src/cssts-config.ts` - 主配置类
- `src/config/value-config.ts` - 配置类型定义
- `src/utils/config-utils.ts` - 配置工具函数
- `src/generator-dts/atom-generator.ts` - 原子类生成器

### 命令
```bash
# 生成 .d.ts 文件
npx tsx src/generator-dts/index.ts

# 生成配置数据
npx tsx src/generator-data/index.ts
```

---

## 📝 文档版本

- **最后更新**: 2025-12-18
- **编译器版本**: 1.0.0
- **配置系统版本**: 2.0.0 (分层配置 + 跨级别支持)

---

## ❓ 常见问题

**Q: 白名单和黑名单可以同时使用吗？**
A: 不可以。如果配置了白名单，黑名单会被忽略。

**Q: 系统默认排除了哪些项？**
A: 系统默认排除低频单位分类：`resolution`、`physical`、`flex`。

**Q: 如何只生成最常用的属性？**
A: 使用 `includeProperties` 白名单，只指定需要的属性。

**Q: 如何自定义单位的数值范围？**
A: 在 `includeUnits` 中使用对象格式，指定 `step`、`max`、`presets` 等。

**Q: 跨级别配置是什么意思？**
A: 在配置中跳过中间层级，直接指定下一层的项。例如在 `includeNumberTypes` 中直接配置单位。

---

## 📞 获取帮助

- 查看 [快速参考](./QUICK_START.md) 中的常见场景
- 阅读 [完整指南](./CONFIG.md) 中的详细说明
- 查看源代码中的注释和类型定义

